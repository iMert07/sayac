<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>Sayac</title>
</head>
<body>
  <div id="clock" style="font-size: 2em; font-family: monospace;"></div>
  <div id="date" style="font-size: 1.5em; font-family: monospace; margin-top: 10px;"></div>

  <script>
    function toBase12(n) {
      const digits = "θ123456789ΦΛ";
      if (n === 0) return "θθ";
      let result = "";
      while (n > 0) {
        result = digits[n % 12] + result;
        n = Math.floor(n / 12);
      }
      return result.padStart(2, 'θ');
    }

    function calculateCustomDate(now) {
      const startDate = new Date(now.getFullYear(), 2, 20); // 20 Mart
      const daysSinceStart = Math.floor((now - startDate) / (1000 * 60 * 60 * 24)) + 1;

      // Milat 1071 yılı (base 10)
      const baseMilad = 1071;

      // Geçen tam yıl sayısı (base 10)
      const yearsPassed = now.getFullYear() - baseMilad;

      // Geçen yıl sayısını base12'ye çevir
      let yearsBase12 = 0;
      let temp = yearsPassed;
      let place = 1;
      while (temp > 0) {
        yearsBase12 += (temp % 12) * place;
        temp = Math.floor(temp / 12);
        place *= 10;
      }

      // Base12'de 6000 yıl eklemek için (onluk tabanda 6*12^3 = 10368)
      // Bu sayede yıl değeri 6000(base12) + geçen yıl sayısı (base12) olacak.
      const offset = 6000;

      // Toplam yılı base10 olarak hesapla:
      const totalYear = offset + yearsBase12;

      // Ay ve gün base12 formatında
      const month = Math.floor((daysSinceStart - 1) / 30) + 1;
      const day = ((daysSinceStart - 1) % 30) + 1;

      return `${toBase12(day)}-${toBase12(month)}-${totalYear}`;
    }

    function updateTime() {
      const now = new Date();
      const startTime = new Date(now);
      startTime.setHours(4, 30, 0, 0);
      const elapsedSeconds = (now - startTime) / 1000 * 2;
      const totalSeconds = Math.floor(elapsedSeconds);
      const hours = Math.floor(totalSeconds / (120 * 120)) % 12;
      const minutes = Math.floor((totalSeconds / 120) % 120);
      const seconds = totalSeconds % 120;

      document.getElementById('clock').textContent = `${toBase12(hours)}.${toBase12(minutes)}:${toBase12(seconds)}`;
      document.getElementById('date').textContent = calculateCustomDate(now);
    }

    setInterval(updateTime, 500);
    updateTime();
  </script>
</body>
</html>
